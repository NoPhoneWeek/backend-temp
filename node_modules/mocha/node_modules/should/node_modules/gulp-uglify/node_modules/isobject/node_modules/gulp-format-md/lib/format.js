/*!
 * gulp-format-md <https://github.com/jonschlinkert/gulp-format-md>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */

'use strict';

var utils = require('./utils');

function format(file, options) {
  var opts = utils.extend({author: {}}, options, file.options);
  file.data = file.data || {};

  var str = format.prettify(file.contents.toString(), opts);
  file.contents = new Buffer(str);
  return file;
}

format.prettify = function(str, options) {
  options = options || {
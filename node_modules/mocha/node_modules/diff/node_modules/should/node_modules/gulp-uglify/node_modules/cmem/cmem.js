'use strict';

var patterns = {};
var slice = Array.prototype.slice;

module.exports = create();

function create() {
  Object.defineProperties(cmem, {
    create: { value: create },
    clear: { value: clear },
    unit: { value: unit },
    iterator: { value: iterator },
    memos: { value: [] },
    noop: { value: _silent }
  });

  return cmem;

  function cmem(fn) {
    var result = make(fn);
    cmem.memos.push(result);
    return result;
  }
}

function make(fn) {
  var $calls = [], fn_;

  Object.de